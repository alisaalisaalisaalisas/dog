<li class="menu-item {% if item_data.is_active %}active{% endif %} {% if item_data.children %}collapsible{% endif %}">
    <div class="menu-link-wrapper">
        <a href="{{ item_data.url }}" 
           class="menu-link {% if item_data.is_active %}active-link{% endif %}">
            {{ item_data.item.title }}
        </a>
        {% if item_data.children %}
            <button class="expand-toggle {% if not item_data.is_expanded %}collapsed{% endif %}" 
                    data-target="submenu-{{ item_data.item.id }}">
                <span class="arrow">{% if item_data.is_expanded %}▼{% else %}►{% endif %}</span>
            </button>
        {% endif %}
    </div>
    
    {% if item_data.children %}
        <ul class="submenu {% if not item_data.is_expanded %}collapsed{% endif %}" 
            id="submenu-{{ item_data.item.id }}">
            {% for child in item_data.children %}
                {% include "menu/menu_item.html" with item_data=child %}
            {% endfor %}
        </ul>
    {% endif %}
</li>
